# ============================================
# PostgreSQL SSL Testing Credentials
# ============================================
#
# Run these commands first:
#   cd infra/dev/db
#   chmod +x generate-certs.sh
#   ./generate-certs.sh
#   docker-compose up -d
#
# All instances use:
#   User: postgres
#   Password: postgres
#   Database: testdb
#
# ============================================

# --------------------------------------------
# 1. NO SSL (sslmode=disable)
# --------------------------------------------
# Port: 5440
# Use case: Local development, no encryption needed
#
postgres://postgres:postgres@localhost:5440/testdb?sslmode=disable


# --------------------------------------------
# 2. SSL REQUIRE (sslmode=require)
# --------------------------------------------
# Port: 5441
# Use case: Encrypt connection, don't verify server certificate
# Note: Most cloud databases work with this mode
#
postgres://postgres:postgres@localhost:5441/testdb?sslmode=require


# --------------------------------------------
# 3. SSL VERIFY-CA (sslmode=verify-ca)
# --------------------------------------------
# Port: 5442
# Use case: Encrypt + verify server cert is signed by trusted CA
# Requires: CA certificate (certs/ca.crt)
#
postgres://postgres:postgres@localhost:5442/testdb?sslmode=verify-ca

# To test in the app:
# - Enable SSL, select "Verify CA" mode
# - Add CA Certificate: paste contents of infra/dev/db/certs/ca.crt


# --------------------------------------------
# 4. SSL VERIFY-FULL (sslmode=verify-full)
# --------------------------------------------
# Port: 5443
# Use case: Encrypt + verify CA + verify hostname matches certificate
# Requires: CA certificate (certs/ca.crt)
#
postgres://postgres:postgres@localhost:5443/testdb?sslmode=verify-full

# To test in the app:
# - Enable SSL, select "Verify Full" mode
# - Add CA Certificate: paste contents of infra/dev/db/certs/ca.crt


# --------------------------------------------
# 5. MTLS - Mutual TLS (Client Certificate Required)
# --------------------------------------------
# Port: 5444
# Use case: Server verifies client identity via certificate
# Requires: CA cert + Client cert + Client key
#
postgres://postgres:postgres@localhost:5444/testdb?sslmode=verify-full

# To test in the app:
# - Enable SSL, select "Verify Full" mode
# - Add CA Certificate: paste contents of infra/dev/db/certs/ca.crt
# - Add Client Certificate: paste contents of infra/dev/db/certs/client.crt
# - Add Client Key: paste contents of infra/dev/db/certs/client.key


# --------------------------------------------
# 6. MTLS with Encrypted Key (Passphrase Required)
# --------------------------------------------
# Port: 5444 (same mTLS instance)
# Use case: Test encrypted client key with passphrase
# Requires: CA cert + Client cert + Encrypted client key + Passphrase
#
postgres://postgres:postgres@localhost:5444/testdb?sslmode=verify-full

# To test in the app:
# - Enable SSL, select "Verify Full" mode
# - Add CA Certificate: paste contents of infra/dev/db/certs/ca.crt
# - Add Client Certificate: paste contents of infra/dev/db/certs/client.crt
# - Add Client Key: paste contents of infra/dev/db/certs/client-encrypted.key
# - Passphrase field should appear automatically
# - Enter passphrase: testpassword


# ============================================
# Certificate File Locations
# ============================================
#
# CA Certificate:           infra/dev/db/certs/ca.crt
# Client Certificate:       infra/dev/db/certs/client.crt
# Client Key:               infra/dev/db/certs/client.key
# Client Key (encrypted):   infra/dev/db/certs/client-encrypted.key
#                           Passphrase: testpassword
#
# ============================================
